<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>cluster-features-closed-reference: Closed-reference clustering of features. &#8212; QIIME 2 2017.11.0 documentation</title>
    
    <link rel="stylesheet" href="../../../../_static/style.css" type="text/css" />
    <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../../',
        VERSION:     '2017.11.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../../../_static/external-links.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="author" title="About these documents" href="../../../../about/" />
    <link rel="top" title="QIIME 2 2017.11.0 documentation" href="../../../../" />
    <link rel="up" title="vsearch" href="../" />
    <link rel="next" title="cluster-features-de-novo: De novo clustering of features." href="../cluster-features-de-novo/" />
    <link rel="prev" title="cluster-features-open-reference: Open-reference clustering of features." href="../cluster-features-open-reference/" />
  <script src="../../../../_static/bootstrap.min.js"></script>
  <link rel="icon" href="../../../../_static/favicon.ico" type="image/png" />
  <link rel="stylesheet" href="../../../../_static/bootstrap.min.css" media="screen" />
  <link rel="stylesheet" href="../../../../_static/normalize.css" media="screen">
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-86671044-2', 'auto');
    ga('send', 'pageview');
  </script>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  </head>
  <body role="document">
<a href="https://github.com/qiime2/qiime2" id="github-banner">
  <img
    src="../../../../_static/github_banner.png"
    alt="Fork me on GitHub"
  />
</a>

  <div id="wrapper" class="container clearfix">
    <div id="header">
      <a href="/">
        <img
          class="img-responsive"
          src="../../../../_static/q2docs.png" alt="QIIME 2 Docs"
        />
      </a>
    </div>
    <div id="content">
      
      <div id="body" class="col-lg-10 col-md-10 col-sm-12 col-xs-12 main pull-right">
        
  <div class="section" id="cluster-features-closed-reference-closed-reference-clustering-of-features">
<h1>cluster-features-closed-reference: Closed-reference clustering of features.<a class="headerlink" href="#cluster-features-closed-reference-closed-reference-clustering-of-features" title="Permalink to this headline">Â¶</a></h1>
<div class="tabbed">
  <ul class="nav nav-tabs">
    <li class="active"><a data-toggle="tab" href="#cli">Command line interface</a></li>
    <li><a data-toggle="tab" href="#api">Artifact API</a></li>
  </ul>
  <div class="tab-content">
    <div id="cli" class="tab-pane fade in active">
      <pre>Usage: qiime vsearch cluster-features-closed-reference [OPTIONS]

  Given a feature table and the associated feature sequences, cluster the
  features against a reference database based on user-specified percent
  identity threshold of their sequences. This is not a general-purpose
  closed-reference clustering method, but rather is intended to be used for
  clustering the results of quality-filtering/dereplication methods, such as
  DADA2, or for re-clustering a FeatureTable at a lower percent identity
  than it was originally clustered at. When a group of features in the input
  table are clustered into a single feature, the frequency of that single
  feature in a given sample is the sum of the frequencies of the features
  that were clustered in that sample. Feature identifiers will be inherited
  from the centroid feature of each cluster. See the vsearch documentation
  for details on how sequence clustering is performed.

Options:
  --i-sequences PATH            Artifact: FeatureData[Sequence]  [required]
                                The sequences corresponding to the features in
                                table.
  --i-table PATH                Artifact: FeatureTable[Frequency]  [required]
                                The feature table to be clustered.
  --i-reference-sequences PATH  Artifact: FeatureData[Sequence]  [required]
                                The sequences to use as cluster centroids.
  --p-perc-identity FLOAT       [required]
                                The percent identity at which
                                clustering should be performed. This parameter
                                maps to vsearch's --id parameter.
  --p-strand [plus|both]        [default: plus]
                                Search plus (i.e., forward) or
                                both (i.e., forward and reverse complement)
                                strands.
  --p-threads INTEGER RANGE     [default: 1]
                                The number of threads to use for
                                computation. Passing 0 will launch one thread
                                per CPU core.
  --o-clustered-table PATH      Artifact: FeatureTable[Frequency] [required if
                                not passing --output-dir]
                                The table following
                                clustering of features.
  --o-clustered-sequences PATH  Artifact: FeatureData[Sequence] [required if
                                not passing --output-dir]
                                The sequences
                                representing clustered features, relabeled by
                                the reference IDs.
  --o-unmatched-sequences PATH  Artifact: FeatureData[Sequence] [required if
                                not passing --output-dir]
                                The sequences which
                                failed to match any reference sequences. This
                                output maps to vsearch's --notmatched
                                parameter.
  --output-dir DIRECTORY        Output unspecified results to a directory
  --cmd-config PATH             Use config file for command options
  --verbose                     Display verbose output to stdout and/or stderr
                                during execution of this action.  [default:
                                False]
  --quiet                       Silence output if execution is successful
                                (silence is golden).  [default: False]
  --help                        Show this message and exit.</pre>
    </div>
    <div id="api" class="tab-pane fade">
      <pre>Closed-reference clustering of features.

Given a feature table and the associated feature sequences, cluster the
features against a reference database based on user-specified percent
identity threshold of their sequences. This is not a general-purpose
closed-reference clustering method, but rather is intended to be used for
clustering the results of quality-filtering/dereplication methods, such as
DADA2, or for re-clustering a FeatureTable at a lower percent identity than
it was originally clustered at. When a group of features in the input table
are clustered into a single feature, the frequency of that single feature
in a given sample is the sum of the frequencies of the features that were
clustered in that sample. Feature identifiers will be inherited from the
centroid feature of each cluster. See the vsearch documentation for details
on how sequence clustering is performed.

Parameters
----------
sequences : FeatureData[Sequence]
    The sequences corresponding to the features in table.
table : FeatureTable[Frequency]
    The feature table to be clustered.
reference_sequences : FeatureData[Sequence]
    The sequences to use as cluster centroids.
perc_identity : Float % Range(0, 1, inclusive_start=False, inclusive_end=True)
    The percent identity at which clustering should be performed. This
    parameter maps to vsearch's --id parameter.
strand : Str % Choices({'both', 'plus'}), optional
    Search plus (i.e., forward) or both (i.e., forward and reverse
    complement) strands.
threads : Int % Range(0, 256, inclusive_end=True), optional
    The number of threads to use for computation. Passing 0 will launch one
    thread per CPU core.

Returns
-------
clustered_table : FeatureTable[Frequency]
    The table following clustering of features.
clustered_sequences : FeatureData[Sequence]
    The sequences representing clustered features, relabeled by the
    reference IDs.
unmatched_sequences : FeatureData[Sequence]
    The sequences which failed to match any reference sequences. This
    output maps to vsearch's --notmatched parameter.</pre>
    </div>
  </div>
</div></div>


      </div>
      

      
      <div id="sidebar" class="col-lg-2 col-md-2 col-sm-12 col-xs-12 side pull-left">
        <div id="version-div" class="btn-group">
          <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"></button>
          <ul id="version-list" class="dropdown-menu"></ul>
        </div>
        
<h3><a href="../../../../">Table Of Contents</a></h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../../getting-started/">Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../about/">What is QIIME 2?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../concepts/">Core concepts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../install/">Installing QIIME 2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../tutorials/">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../interfaces/">Interfaces</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../">Plugins</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../../">Available plugins</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../future/">Future plugins</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../developing/">Developing a QIIME 2 plugin</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../semantic-types/">Semantic types</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../community/">Community</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../data-resources/">Data resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../supplementary-resources/">Supplementary resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../glossary/">Glossary</a></li>
</ul>

<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../../../../search/" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
      </div>
      
    </div>

    <div class="footer" role="contentinfo">
        &#169; Copyright 2016-2017, QIIME 2 development team.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.4.6.
    </div>
  </div>
  <script src="../../../../_static/bootstrap-dropdown.js" charset="utf-8"></script>
  <script src="/versions.js" charset="utf-8"></script>
  </body>
</html>